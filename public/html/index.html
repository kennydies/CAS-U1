<!DOCTYPE html>
<html>
<head lang="de">
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link href="https://fonts.googleapis.com/css?family=Raleway&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/min/base.css">

    <script src="../js/utils/moment.js"></script>
    <script src="../libs/handlebars-v4.0.5.js" defer></script>
    <script src="../js/utils/handlebars-helpers.js" defer></script>
    <script src="../js/controllers/index-controller.js" type="module"></script>

    <title>Todolist | App</title>
</head>
<body>

    <section class="page">

        <header class="page-header">
            <h1 class="app-title">Todolist</h1>

            <nav>
                <button class="btn btn-default js-create-new-todo" id="create-todo">new todo</button>
                <button class="btn btn-default js-sort-createDate" data-sortby="createdDate">sort created</button>
                <button class="btn btn-default js-sort-dueDate" data-sortby="dueDate">sort due</button>
                <button class="btn btn-default js-sort-importance" data-sortby="importance">sort importance</button>
                <button class="btn btn-default js-filter-done">hide done</button>
                <button class="btn btn-default js-toggle-theme" id="toggle-theme">toggle theme</button>
            </nav>
        </header>

        <main class="wrapper">
            <div id="list-container"></div>
        </main>

        <footer></footer>

        <div class="create-view">

            <form class="create-form">

                <label for="create-form__title">Titel*</label>
                <input id="create-form__title" placeholder="Aufgabe" type="text" value="" required>

                <label for="create-form__description">Beschreibung</label>
                <input id="create-form__description" placeholder="Beschreibung" type="text" value="">

                <fieldset class="create-form__importance">
                    <p>Priorität</p>
                    <input type="radio" name="importance" id="create-form__importance-1" value="1" checked>
                    <input type="radio" name="importance" id="create-form__importance-2" value="2">
                    <input type="radio" name="importance" id="create-form__importance-3" value="3">
                    <input type="radio" name="importance" id="create-form__importance-4" value="4">
                    <input type="radio" name="importance" id="create-form__importance-5" value="5">
                </fieldset>

                <label for="create-form__due-date">Fälligkeitsdatum</label>
                <input id="create-form__due-date" type="date" value="">

                <fieldset class="create-form__buttons">
                    <div class="wrapper">
                        <button class="btn btn-default js-abort">Abbrechen</button>
                        <button type="submit" class="btn btn-default js-update" id="save-todo">Speichern</button>
                    </div>
                </fieldset>
            </form>
        </div>
    </section>

    <script id="list-template" type="text/x-handlebars-template">
        {{#each todos}}
            <div class="list-item">
                <div class="list-item__title">{{title}}</div>
                <div class="list-item__description">{{description}}</div>
                <div class="list-item__importance">{{importance}}</div>
                <div class="list-item__duedate">{{formatDate dueDate}}</div>
                <div class="list-item__btn-wrapper">
                    <button data-id="{{_id}}" class="btn btn-icon btn-delete js-delete"></button>
                    <button data-id="{{_id}}" class="btn btn-icon btn-edit js-update"></button>
                    <input type="checkbox" data-id="{{_id}}" class="btn btn-icon btn-check js-switch-state" {{#if done}} checked {{/if}}>
                </div>
            </div>
        {{/each}}
    </script>
</body>
</html>